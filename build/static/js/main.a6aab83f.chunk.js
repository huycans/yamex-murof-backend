(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t,a){e.exports=a.p+"static/media/logo.5c145136.png"},177:function(e,t,a){e.exports=a(419)},290:function(e,t,a){},291:function(e,t,a){},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){},419:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(41),o=a.n(s),c=a(45),i=a(1),l=a.n(i),u=a(2),m=a(9),p=a(10),h=a(12),d=a(11),f=a(3),b=a(13),v=a(23),g=a(170),E=a.n(g),w=a(6),k=a(33),y=a(24),N=a.n(y),O=function(e){var t=e.forumPath,a=e.subforumPath,n=e.threadData,s=(e.subforum,new Date(n.lastModifiedTime));return r.a.createElement("div",{className:"minithread"},r.a.createElement("div",{className:"mini-date-and-tname"},r.a.createElement("div",{className:"mini-date"},"".concat(s.getDate(),"/").concat(s.getMonth())),r.a.createElement("div",{className:"mini-tname"},r.a.createElement(w.b,{to:"/".concat(t,"/").concat(a,"/thread/").concat(n.id)},n.name))),r.a.createElement("div",{className:"rep"},"N/A",n.replyNumber),r.a.createElement("div",{className:"views"},"N/A"))},j=a(52),x=a.n(j),C={auth:"/auth",forum:"/forum",getAllForum:"/forum/all",subforum:"/subforum",thread:"/thread",threadNewest:"/thread/latest",reply:"/reply",user:"/user",userlogin:"/user/login",usersignup:"/user/signup",userTokenCheck:"/user/checkJWTToken",logout:"/user/logout"};console.log("BASE_URL",Object({NODE_ENV:"production",PUBLIC_URL:""}).BASE_URL);var S=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BASE_URL||"http://localhost:4000";function T(e){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(l.a.mark(function e(t){var a,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=S+C.subforum+"?fid="+t,e.next=4,fetch(a,{method:"GET",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"}});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function I(e,t,a){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(l.a.mark(function e(t,a,n){var r,s,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=S+C.subforum,e.next=4,fetch(r,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({description:a,forumId:t,name:n})});case 4:return s=e.sent,e.next=7,s.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function L(){return(L=Object(u.a)(l.a.mark(function e(){var t,a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=S+C.getAllForum,e.next=4,fetch(t,{method:"GET",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"}});case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function D(e){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(l.a.mark(function e(t){var a,n,r,s,o,c=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"",n=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=2,r=S+C.forum,e.next=6,fetch(r,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({bikeInfo:n,coverUrl:a,name:t})});case 6:return s=e.sent,e.next=9,s.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:throw e.prev=13,e.t0=e.catch(2),e.t0;case 16:case"end":return e.stop()}},e,null,[[2,13]])}))).apply(this,arguments)}a(195);function P(e,t,a,n){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(l.a.mark(function e(t,a,n,r){var s,o,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="".concat(S).concat(a),e.next=4,fetch(s,{method:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Bearer "+n.sessionToken},body:JSON.stringify(r)});case 4:if(200!==(o=e.sent).status){e.next=12;break}return e.next=8,o.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:throw o;case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}},e,null,[[0,15]])}))).apply(this,arguments)}function F(e,t,a,n){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(l.a.mark(function e(t,a,n,r){var s,o,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s="".concat(S).concat(a),e.next=4,fetch(s,{method:t,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+n.sessionToken},body:r});case 4:if(200!==(o=e.sent).status){e.next=12;break}return e.next=8,o.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:throw o;case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}},e,null,[[0,15]])}))).apply(this,arguments)}function R(e,t,a){return z.apply(this,arguments)}function z(){return(z=Object(u.a)(l.a.mark(function e(t,a,n){var r,s,o,c,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={author:{id:t.userId},threadId:n,content:a},s=S+C.reply,o="Bearer "+t.sessionToken,e.next=6,fetch(s,{method:"POST",withCredentials:!0,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:o},body:JSON.stringify(r)});case 6:return c=e.sent,e.next=9,c.json();case 9:if(i=e.sent,200!==c.status){e.next=14;break}return e.abrupt("return",i);case 14:throw i.message;case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(0),e.t0;case 20:case"end":return e.stop()}},e,null,[[0,17]])}))).apply(this,arguments)}function J(e,t){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(l.a.mark(function e(t,a){var n,r,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=S+C.reply+"?thrid="+t+"&page="+a,e.next=4,fetch(n,{method:"GET",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return s=e.sent,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function V(e,t){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(l.a.mark(function e(t,a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("PUT",C.reply+"/"+a,t,{});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Y(e,t){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(l.a.mark(function e(t,a){var n,r,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=S+C.thread+"?sfid="+t+"&page="+a,e.next=4,fetch(n,{method:"GET",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return s=e.sent,e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function H(){return(H=Object(u.a)(l.a.mark(function e(t){var a,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=S+C.thread+"/"+t,e.next=4,fetch(a,{method:"GET",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"}});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function q(e,t,a,n){return $.apply(this,arguments)}function $(){return($=Object(u.a)(l.a.mark(function e(t,a,n,r){var s,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={author:{id:r.userId},name:t,threadContent:n,subForumId:a},e.next=4,P("PUT",C.thread,r,s);case 4:return o=e.sent,e.abrupt("return",o);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function K(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(l.a.mark(function e(t){var a,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=S+C.threadNewest+"?sfid="+t,e.next=4,fetch(a,{method:"GET",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"}});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function Z(){return(Z=Object(u.a)(l.a.mark(function e(t,a){var n,r,s,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=S+C.user+"/"+t,r="Bearer "+a,e.next=5,fetch(n,{method:"GET",withCredentials:!0,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*",Authorization:r}});case 5:return s=e.sent,e.next=8,s.json();case 8:return o=e.sent,e.abrupt("return",o);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,null,[[0,12]])}))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(l.a.mark(function e(t,a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F("PUT",C.user+"/"+t.userId,t,a);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function ae(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(u.a)(l.a.mark(function e(t,a){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(S+C.userlogin,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:t,password:a})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,200==n.status||0!=n.ok){e.next=11;break}throw new Error(r.err.message);case 11:return e.abrupt("return",r);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}},e,null,[[0,14]])}))).apply(this,arguments)}function re(e,t){return se.apply(this,arguments)}function se(){return(se=Object(u.a)(l.a.mark(function e(t,a){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(S+C.usersignup,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:t,password:a})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(r=e.sent,200==n.status||0!=n.ok){e.next=11;break}throw new Error(r.err.message);case 11:return e.abrupt("return",r);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}},e,null,[[0,14]])}))).apply(this,arguments)}function oe(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(S+C.userTokenCheck,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+t}});case 3:return a=e.sent,e.next=6,a.json();case 6:if(0!=(n=e.sent).success||"JWT invalid"!=n.status){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}},e,null,[[0,14]])}))).apply(this,arguments)}function ie(){return(ie=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(S+C.logout,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Access-Control-Allow-Origin":"*"}});case 3:return t=e.sent,e.next=6,t.json();case 6:e.sent,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}var le=a(173),ue=a.n(le),me=function(e){e.current;var t=e.pages,a=e.loadOnClick;return r.a.createElement(ue.a,{pageCount:t,pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:function(e){var t=e.selected;return a(t+1)},initialPage:0,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",activeClassName:"active zeroIndex",previousLabel:"<",nextLabel:">",breakLabel:"...",previousClassName:"page-item",nextClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",previousLinkClassName:"page-link",disabledClassName:"diabled",disableInitialCallback:!0})},pe=a(74),he=a(174),de=a(175),fe=a.n(de),be=(a(289),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={editorState:pe.EditorState.createEmpty()},a.onEditorStateChange=a.onEditorStateChange.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"onEditorStateChange",value:function(e){this.setState({editorState:e})}},{key:"render",value:function(){var e=this,t=this.state.editorState;return r.a.createElement("div",null,r.a.createElement(he.Editor,{editorState:t,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange}),r.a.createElement("button",{disabled:this.props.disabled,onClick:function(){return e.props.submit(fe()(Object(pe.convertToRaw)(t.getCurrentContent())))}},"Submit"))}}]),t}(n.Component)),ve=function(e){return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear()," at ").concat(e.getHours(),":").concat(e.getMinutes())},ge=(a(290),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={threadList:[],newThreadName:"",current:null,pages:null},a.createNewThread=a.createNewThread.bind(Object(f.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(f.a)(a)),a.openModal=a.openModal.bind(Object(f.a)(a)),a.closeModal=a.closeModal.bind(Object(f.a)(a)),a.loadThreadsFromPageNum=a.loadThreadsFromPageNum.bind(Object(f.a)(a)),a.submit=a.submit.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"submit",value:function(e){"<p></p>\n"!=e&&""!=this.newThreadName?this.createNewThread(x.a.sanitize(e)):alert("Thread name or thread content cannot be empty")}},{key:"createNewThread",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var a,n,r,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.state.newThreadName,n=this.props,r=n.subforumData,s=n.authData,e.next=5,q(a,r.id,t,s);case 5:if(null!=e.sent){e.next=8;break}throw Error("Error while creating thread");case 8:window.location.reload(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error while creating thread: ",e.t0);case 14:return e.prev=14,this.closeModal(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(v.a)({},t,a))}},{key:"openModal",value:function(){this.setState({isModalOpen:!0})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1,newThreadName:"",newThreadContent:""})}},{key:"loadThreadsFromPageNum",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props.subforumData,n=this,Y(a.id,t).then(function(e){e&&n.setState({threadList:e.threads,current:e.current,pages:e.pages})},function(e){return console.log(e)});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.loadThreadsFromPageNum(1)}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.forumData,n=e.authData,s=e.subforumData,o=(s.pageNumber,this.state),c=o.threadList,i=o.newThreadName,l=o.isModalOpen,u=o.current,m=o.pages;if(!c)return r.a.createElement("p",null,"Loading");var p=r.a.createElement(N.a,{style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"scroll",height:"500px"}},isOpen:l,contentLabel:"newThreadModal"},r.a.createElement("div",null,r.a.createElement("h2",null,"Enter information"),r.a.createElement("input",{style:{border:"1px black solid",color:"black"},name:"newThreadName",type:"text",placeholder:"Thread Name",value:i,onChange:this.handleInputChange}),r.a.createElement(be,{submit:this.submit}),r.a.createElement("button",{onClick:this.closeModal,style:{marginTop:"1em"}},"Close"))),h=c.map(function(e){var a=new Date(e.lastModifiedTime),n=ve(a);return r.a.createElement("div",{className:"thread_container",key:e.id},r.a.createElement("div",{className:"thread_info"},r.a.createElement("div",{className:"thread_name"},r.a.createElement(w.b,{to:"".concat(t.path,"/thread/").concat(e.id)},e.name)),r.a.createElement("div",{className:"thread_creator"},"Thread by :"," ",r.a.createElement(w.b,{to:"/user/".concat(e.author.id)},e.author.username))),r.a.createElement("div",{className:"latest_post"},r.a.createElement("div",{className:"lasted_post_time"},r.a.createElement("span",null,n)),r.a.createElement("div",{className:"lasted_post_owner"},r.a.createElement("span",null,"by "),r.a.createElement(w.b,{to:"/user/".concat(e.latestReply.author.id)},e.latestReply.author.username," "))),r.a.createElement("div",{className:"no_rep_view"},r.a.createElement("span",null,"Replies: N/A",e.replyNumber),r.a.createElement("span",null,"Views: N/A",e.viewNumber)))});return r.a.createElement("div",null,p,r.a.createElement("div",{className:"navigator"},r.a.createElement(w.b,{to:"/"},"YAMEX"),r.a.createElement("span",null,"->"),r.a.createElement(w.b,{to:"/".concat(a.path)},a.name),r.a.createElement("span",null,"->"),r.a.createElement(w.b,{to:"/".concat(a.path,"/").concat(s.path)},s.name)),r.a.createElement("div",{className:"intro"},r.a.createElement("h1",null,s.description)),r.a.createElement("div",{className:"paginate_bar",style:{marginLeft:"50px"}},n.sessionToken?r.a.createElement("div",{className:"postnew"},r.a.createElement("button",{onClick:this.openModal},"New Thread")):null,m?r.a.createElement("div",null,r.a.createElement(me,{current:u,loadOnClick:this.loadThreadsFromPageNum,pages:m})):null),r.a.createElement("div",{className:"subforum_bar"},r.a.createElement("div",{className:"subforum_name"},s.name)),h)}}]),t}(n.Component)),Ee=(a(291),a(34)),we="cloudtree",ke=(a(413),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isLoading:!0,thread:null,replies:[],errorMessage:"",isModalOpen:!1,current:null,pages:null},a.openModal=a.openModal.bind(Object(f.a)(a)),a.closeModal=a.closeModal.bind(Object(f.a)(a)),a.handleType=a.handleType.bind(Object(f.a)(a)),a.thank=a.thank.bind(Object(f.a)(a)),a.reply=a.reply.bind(Object(f.a)(a)),a.loadRepliesFromPageNum=a.loadRepliesFromPageNum.bind(Object(f.a)(a)),a.submit=a.submit.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"submit",value:function(e){"<p></p>\n"!=e?this.reply(x.a.sanitize(e)):alert("Reply cannot be empty")}},{key:"handleType",value:function(e){this.setState({newReplyContent:e.target.value})}},{key:"openModal",value:function(){this.props.authData.sessionToken?this.setState({isModalOpen:!0}):alert("You're not logging in")}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1,newReplyContent:""})}},{key:"reply",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.props.authData,n=this.state.thread,e.next=5,R(a,t,n.id);case 5:this.setState({isModalOpen:!1}),window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.setState({errorMessage:e.t0});case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"thank",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var a,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=this.props.authData,n=this.state.replies,a.sessionToken){e.next=6;break}return alert("You're not logging in"),e.abrupt("return");case 6:return e.next=8,V(a,t);case 8:r=n.map(function(e,a){return e.id==t&&(e.numberOfThank=e.numberOfThank+1),e}),this.setState({repliesCopy:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.setState({errorMessage:e.t0});case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()},{key:"loadRepliesFromPageNum",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var a=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{this.setState({isLoading:!0}),J(this.props.match.params.threadId,t).then(function(e){var t=e.replies,n=e.current,r=e.pages;a.setState({replies:t,current:n,pages:r})})}catch(n){this.setState({errorMessage:n})}finally{this.setState({isLoading:!1})}case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;(function(e){return H.apply(this,arguments)})(this.props.match.params.threadId).then(function(t){e.setState({thread:t})}),this.loadRepliesFromPageNum(1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.authData,s=this.state,o=s.replies,c=s.errorMessage,i=s.isLoading,l=s.thread,u=s.isModalOpen,m=s.current,p=s.pages;if(!o||!l)return null;var h=function(t){return t.reply?r.a.createElement("div",{className:"rep_quickrep_tool"},r.a.createElement("div",{className:"no_thank"},t.reply.numberOfThank||"0"," people thank this"),r.a.createElement("button",{onClick:e.openModal},"Reply"),r.a.createElement("button",{onClick:function(){return e.thank(t.reply.id)}},"Thanks")):void 0},d=r.a.createElement("div",{className:"navigator"},r.a.createElement(w.b,{to:"/"},"YAMEX"),"->",r.a.createElement(w.b,{to:"/".concat(a.params.forumName)},a.params.forumName),"->",r.a.createElement(w.b,{to:"/".concat(a.params.forumName,"/").concat(a.params.subforumName)},a.params.subforumName),"->",r.a.createElement(w.b,{to:"/".concat(a.params.forumName,"/").concat(a.params.subforumName,"/").concat(a.params.threadId)},l.name)),f=r.a.createElement("div",{className:"thread_header"},r.a.createElement("div",{className:"user_avatar"},r.a.createElement(Ee.CloudinaryContext,{cloudName:we},r.a.createElement(Ee.Image,{publicId:l.author.avatarUrl}))),r.a.createElement("div",{className:"thread_header_info"},r.a.createElement("div",{className:"thread_name"},l.name),r.a.createElement("div",{className:"thread_creator"},"By ",r.a.createElement(w.b,{to:"/user/".concat(l.author.id)},l.author.username),", Member on"," ",ve(new Date(l.author.createdTime))))),b=o.sort(function(e,t){var a=new Date(e.createdTime),n=new Date(t.createdTime);return a.getTime()-n.getTime()}).map(function(e,t){return r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"post_reply"},r.a.createElement("div",{className:"user_post_rep"},r.a.createElement("div",{className:"post_user"},r.a.createElement(w.b,{to:"/user/".concat(e.author.id)},e.author.username)),r.a.createElement("div",{className:"post_info"},ve(new Date(e.createdTime)))),r.a.createElement("div",{className:"post_content"},r.a.createElement("div",{className:"post_user_content"},r.a.createElement(Ee.CloudinaryContext,{cloudName:we},r.a.createElement(Ee.Image,{publicId:e.author.avatarUrl,alt:"user-avatar"})),r.a.createElement("div",{className:"user_title"},"Role: ",e.author.role)),r.a.createElement("div",{className:"post_rep_content"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:x.a.sanitize(e.content)}})))),r.a.createElement(h,{reply:e}))}),v=r.a.createElement("div",{style:{backgroundColor:"red",fontSize:20,textAlign:"center"}},c),g=r.a.createElement(N.a,{style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",overflow:"scroll",height:"500px"}},isOpen:u,contentLabel:"newThreadModal"},r.a.createElement("div",{style:{flex:1,flexDirection:"column"}},r.a.createElement("h2",null,"Enter information"),r.a.createElement(be,{submit:this.submit}),r.a.createElement("button",{onClick:this.closeModal},"Close")));return i?r.a.createElement("div",null):r.a.createElement("div",null,g,d,f,v,r.a.createElement("div",{className:"paginate_bar"},n.sessionToken?r.a.createElement("button",{className:"postnew",onClick:this.openModal},"Post Reply"):null,p?r.a.createElement("div",null,r.a.createElement(me,{current:m,loadOnClick:this.loadRepliesFromPageNum,pages:p})):null),b)}}]),t}(n.Component)),ye=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={subforumList:[],isModalOpen:!1,newSubforumName:"",newSubforumDiscription:""},a.createNewSubforum=a.createNewSubforum.bind(Object(f.a)(a)),a.openModal=a.openModal.bind(Object(f.a)(a)),a.closeModal=a.closeModal.bind(Object(f.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"createNewSubforum",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t,a,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.forumData,a=this.state,n=a.newSubforumName,r=a.newSubforumDiscription,e.next=5,I(t.id,r,n);case 5:window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:return e.prev=11,this.closeModal(),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(v.a)({},t,a))}},{key:"openModal",value:function(){this.setState({isModalOpen:!0})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1,newSubforumName:"",newSubforumDiscription:""})}},{key:"componentDidMount",value:function(){var e=this;T(this.props.forumData.id).then(function(e){return e},function(e){return alert(e)}).then(function(t){var a=t.slice();Promise.all(a.map(function(){var e=Object(u.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t.id);case 2:return a=e.sent,e.abrupt("return",Object.assign({},Object(c.a)({},t),{threadList:a}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(t){e.setState({subforumList:t})})})}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.forumData,n=e.authData,s=e.userFromServer,o=this.state,c=o.isModalOpen,i=o.newSubforumName,l=o.newSubforumDiscription,u=r.a.createElement(N.a,{style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},isOpen:c,contentLabel:"newThreadModal"},r.a.createElement("div",null,r.a.createElement("h2",null,"Enter information"),r.a.createElement("input",{style:{border:"1px black solid",color:"black"},name:"newSubforumName",type:"text",placeholder:"Subforum Name",value:i,onChange:this.handleInputChange}),r.a.createElement("input",{style:{border:"1px black solid",color:"black",margin:"1em"},name:"newSubforumDiscription",type:"text",placeholder:"Subforum Discription",value:l,onChange:this.handleInputChange}),r.a.createElement("button",{onClick:this.createNewSubforum},"Submit"),r.a.createElement("button",{onClick:this.closeModal},"Close"))),m=this.state.subforumList,p=m.map(function(e){if(!e.threadList)return null;var t=e.threadList.map(function(t){return r.a.createElement(O,{forumPath:a.path,subforumPath:e.path,key:t.id,threadData:t,subforum:e})});return r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"minithread minithread-header"},r.a.createElement("div",{className:"mini-date-and-tname"},e.name," "),r.a.createElement("div",{className:"rep"},"REPLIES"),r.a.createElement("div",{className:"views"},"VIEW")),t,r.a.createElement("div",{className:"more"},r.a.createElement(w.b,{to:"/".concat(a.path,"/").concat(e.path)},"Go to ",e.name," subforum")),r.a.createElement("hr",null))}),h=m.map(function(e){return r.a.createElement(k.a,{key:e.id,path:"".concat(t.path,"/").concat(e.path),render:function(t){return r.a.createElement(ge,Object.assign({},t,{forumData:a,subforumData:e,authData:n}))}})}),d=r.a.createElement("div",null,r.a.createElement("div",{className:"navigator"},r.a.createElement(w.b,{to:"/"},"YAMEX"),"->",r.a.createElement(w.b,{to:"/".concat(a.path)},a.name)),u,r.a.createElement("div",{className:"forum_view"},s&&"ADMIN"===s.role?r.a.createElement("button",{onClick:this.openModal},"Create new subforum"):null,r.a.createElement("h1",null,a.name),p," "));return r.a.createElement("div",{className:"tab"},r.a.createElement(k.a,{exact:!0,path:"".concat(t.path),render:function(){return d}}),r.a.createElement(k.c,null,r.a.createElement(k.a,{exact:!0,path:"/:forumName/:subforumName/thread/:threadId",render:function(e){return r.a.createElement(ke,Object.assign({authData:n},e))}}),h))}}]),t}(n.Component),Ne=a(176),Oe=a.n(Ne),je=function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement(Oe.a,{type:"balls",color:"var(--main-orange)",height:50,width:50}),r.a.createElement("div",{style:{fontWeight:"bold",fontSize:24,color:"var(--main-orange)"}},"Please wait..."))},xe=function(e){var t=e.subforumData,a=e.forumPath;return r.a.createElement("div",{className:"subforum"},r.a.createElement("div",{className:"subforum_info"},r.a.createElement(w.b,{to:"".concat(a,"/").concat(t.path)},t.name),r.a.createElement("p",null,t.description)),r.a.createElement("div",{className:"no_thread_post"},r.a.createElement("span",null,"Threads: NaN")," ",t.threadNumber,r.a.createElement("br",null),r.a.createElement("span",null,"Posts: NaN")," ",t.replyNumber),null===t.latestThread?r.a.createElement("div",{className:"first_unread_post"},"null",r.a.createElement("br",null),"by ",r.a.createElement("div",null,"null"),r.a.createElement("br",null),"null"):r.a.createElement("div",{className:"first_unread_post"},"Latest thread:  ",r.a.createElement(w.b,{to:"".concat(a,"/").concat(t.path,"/thread/").concat(t.latestThread.id)},t.latestThread.name),r.a.createElement("br",null),"on ",ve(new Date(t.latestThread.createdTime))))},Ce=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={subforumList:[]},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;T(this.props.forum.id).then(function(t){e.setState({subforumList:t})},function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.forum,n=t.match,s=this.state.subforumList.map(function(t){return r.a.createElement(xe,Object.assign({forumPath:a.path,subforumData:t},e.props,{key:t.id}))});return r.a.createElement(E.a,{trigger:r.a.createElement("div",{className:"trigger",id:"forum1-trigger"},r.a.createElement(w.b,{to:"".concat(n.url).concat(a.path)},a.name)),open:!0,key:a.id},r.a.createElement("div",{id:"wrapper",className:"open"},r.a.createElement("div",{className:"forum-content",id:"forum1-content"},s)))}}]),t}(n.Component),Se=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={isError:null,forumList:[],isLoading:!0,isModalOpen:!1,newForumName:"",coverUrl:"",brand:"",description:"",name:"",power:0,stillProducing:!0},a.openModal=a.openModal.bind(Object(f.a)(a)),a.closeModal=a.closeModal.bind(Object(f.a)(a)),a.createNewForum=a.createNewForum.bind(Object(f.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"createNewForum",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t,a,n,r,s,o,c,i,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.brand,n=t.description,r=t.name,s=t.newForumName,o=t.power,c=t.stillProducing,i=t.coverUrl,u={brand:a,description:n,name:r,power:o,stillProducing:c},e.next=5,D(s,i,u);case 5:window.location.reload(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({isError:!0}),console.log(e.t0);case 12:return e.prev=12,this.setState({isModalOpen:!1}),e.finish(12);case 15:case"end":return e.stop()}},e,this,[[0,8,12,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(e){var t=e.target.name,a=e.target.value;"stillProducing"===t&&(a="true"===a),this.setState(Object(v.a)({},t,a))}},{key:"openModal",value:function(){this.setState({isModalOpen:!0})}},{key:"closeModal",value:function(){this.setState({isModalOpen:!1,newForumName:"",newForumdescription:""})}},{key:"componentDidMount",value:function(){var e=this;(function(){return L.apply(this,arguments)})().then(function(t){e.setState({isLoading:!1,forumList:t})},function(t){e.setState({isLoading:!1,isError:!0}),console.log("Error while getting forum list: ",t)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.forumList,n=t.isError,s=t.isLoading,o=t.coverUrl,c=t.isModalOpen,i=t.brand,l=t.description,u=t.name,m=t.newForumName,p=t.power,h=t.stillProducing,d=this.props,f=d.match,b=d.userFromServer;if(s)return r.a.createElement("div",null,r.a.createElement(je,null));if(n)return r.a.createElement("div",null,r.a.createElement("div",null,"There has been an error, please refresh the page"));var v,g,E=r.a.createElement(N.a,{style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},isOpen:c,contentLabel:"newThreadModal"},r.a.createElement("div",null,r.a.createElement("h2",null,"Enter information"),r.a.createElement("br",null),r.a.createElement("label",null,"Forum Name",r.a.createElement("input",{style:{marginLeft:"5em",border:"1px black solid",color:"black"},name:"newForumName",type:"text",placeholder:"Forum Name",value:m,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("label",null,"URL for cover picture",r.a.createElement("input",{style:{border:"1px black solid",color:"black",marginLeft:"1em"},name:"coverUrl",type:"text",placeholder:"URL for cover picture",value:o,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("h3",null,"Enter bike info"),r.a.createElement("br",null),r.a.createElement("label",null,"Bike brand",r.a.createElement("input",{style:{border:"1px black solid",color:"black",marginLeft:"6em"},name:"brand",type:"text",placeholder:"Brand",value:i,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Bike name",r.a.createElement("input",{style:{border:"1px black solid",color:"black",marginLeft:"6em"},name:"name",type:"text",placeholder:"Name",value:u,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Bike description",r.a.createElement("input",{style:{border:"1px black solid",color:"black",marginLeft:"3em"},name:"description",type:"text",placeholder:"description",value:l,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Bike power",r.a.createElement("input",{style:{border:"1px black solid",color:"black",marginLeft:"6em"},name:"power",type:"number",placeholder:"Power",value:p,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("h4",null,"Is this bike still in production?"),r.a.createElement("input",{name:"stillProducing",type:"radio",value:!0,onChange:this.handleInputChange,checked:1==h,style:{margin:"0.5em"}}),"Yes",r.a.createElement("br",null),r.a.createElement("input",{name:"stillProducing",type:"radio",value:!1,onChange:this.handleInputChange,checked:0==h,style:{margin:"0.5em"}}),"No",r.a.createElement("br",null),r.a.createElement("button",{onClick:this.createNewForum},"Submit"),r.a.createElement("button",{onClick:this.closeModal},"Close")));return v=a.map(function(e){return r.a.createElement(Ce,{forum:e,match:f,key:e.id})}),g=a.map(function(t){return r.a.createElement(k.a,{path:"".concat(f.path).concat(t.path),key:t.id,render:function(a){return r.a.createElement(ye,Object.assign({},a,{userFromServer:b,forumData:t,authData:e.props.authData}))}})}),r.a.createElement("div",null,E,b&&"ADMIN"===b.role?r.a.createElement("button",{onClick:this.openModal,style:{width:"80%",margin:"1em"}},"Create new Forum"):null,r.a.createElement(k.c,null,r.a.createElement(k.a,{exact:!0,path:"/",render:function(){return v}}),g))}}]),t}(n.Component),Te=(a(414),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={userInfo:null,avatarUrl:"",avatarUpload:null,favoriteBike:"",username:"",errorMessage:"",isUpdateSuccess:!1,isUpdating:!1},a.handleChangeValue=a.handleChangeValue.bind(Object(f.a)(a)),a.updateUser=a.updateUser.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleChangeValue",value:function(e){var t=e.target.name;"avatarUpload"==t?this.setState(Object(v.a)({},t,e.target.files[0])):this.setState(Object(v.a)({},t,e.target.value))}},{key:"updateUser",value:function(){var e=Object(u.a)(l.a.mark(function e(t){var a,n,r,s,o,c,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props.authData,n=this.state,r=n.avatarUrl,s=n.favoriteBike,n.username,o=n.avatarUpload,(c=new FormData).append("avatarFile",o),c.append("avatarUrl",r),c.append("favoriteBike",s),e.prev=7,this.setState({isUpdating:!0}),e.next=11,ee(a,c);case 11:i=e.sent,this.setState({isUpdateSuccess:!0}),this.setState({avatarUrl:i.avatarUrl,favoriteBike:i.favoriteBike}),alert("Update successful"),window.location.reload(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),this.setState({errorMessage:e.t0.message});case 21:return e.prev=21,this.setState({isUpdating:!1}),e.finish(21);case 24:case"end":return e.stop()}},e,this,[[7,18,21,24]])}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.match,n=t.sessionToken;(function(e,t){return Z.apply(this,arguments)})(a.params.userId,n).then(function(t){e.setState({userInfo:t,avatarUrl:t.avatarUrl,favoriteBike:t.favoriteBike,username:t.username})},function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.userInfo,a=(e.avatarUrl,e.favoriteBike),n=e.username,s=e.errorMessage,o=(e.isUpdateSuccess,e.isUpdating),c=this.props,i=c.authData,l=c.match;return t?s?r.a.createElement("div",{style:{backgroundColor:"red",fontSize:20,textAlign:"center"}},s):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"user"},r.a.createElement(Ee.CloudinaryContext,{cloudName:we},r.a.createElement(Ee.Image,{publicId:t.avatarUrl,className:"userinfo-avatar"})),r.a.createElement("div",{className:"user_info"},r.a.createElement("div",{className:"user_name"},t.username),r.a.createElement("div",{className:"user_title"},"Role: ",t.role),r.a.createElement("div",{className:"status"},"Last online: ",ve(new Date(t.lastLogin))))),r.a.createElement("div",{className:"user_about"},r.a.createElement("div",{className:"fav_bike"},r.a.createElement("b",null,"Favorite bike: "),t.favoriteBike),r.a.createElement("div",{className:"statistic"},r.a.createElement("div",{className:"no_post"},r.a.createElement("b",null,"No posts:")," ",t.numberOfPost),r.a.createElement("div",{className:"no_tks"},r.a.createElement("b",null,"No thanks:")," ",t.numberOfThank)),r.a.createElement("div",{className:"contact"},r.a.createElement("div",{className:"email"},r.a.createElement("b",null,"Email:")," ",t.email))),i.userId===l.params.userId?r.a.createElement("div",{className:"change_info"},r.a.createElement("form",null,r.a.createElement("h4",null,"Change your personal infomation"),r.a.createElement("label",{htmlFor:"username"},"Username: "),r.a.createElement("input",{id:"username",value:n,name:"username",disabled:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"avatarUpload"},"Upload Avatar: "),r.a.createElement("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",name:"avatarUpload",onChange:this.handleChangeValue}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"favoriteBike"},"Favorite Bike: "),r.a.createElement("input",{id:"favoriteBike",value:a,name:"favoriteBike",onChange:this.handleChangeValue}),r.a.createElement("br",null),r.a.createElement("button",{className:"change_info_button",disabled:o,onClick:this.updateUser},"Submit"))):null):null}}]),t}(n.Component)),Me=r.a.createContext(),Ie=function(e){function t(e){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).call(this,e))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(Me.Provider,{value:Object(c.a)({},this.props.value)},this.props.children)}}]),t}(n.Component),Ae=(Me.Consumer,a(415),function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"d-flex justify-content-around"},r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{className:"footer-logo logo",src:a(169),alt:"logo"}))),r.a.createElement("div",{className:"p-2 d-flex justify-content-center"},r.a.createElement("div",{className:"describe-us"},r.a.createElement("span",null,"YAMEX RUMOF - Team 1's project"),r.a.createElement("br",null),"This forum help people discuss about things and things about motorcycle.")),r.a.createElement("div",{className:"p-2"},r.a.createElement("b",null,"Group member :"),r.a.createElement("div",{className:"member"},r.a.createElement("br",null)," Nguyen Thanh Binh",r.a.createElement("br",null)," Ngo Chinh Dung",r.a.createElement("br",null)," Dao Thanh Duy",r.a.createElement("br",null)," Vuong Thieu Huy",r.a.createElement("br",null)," Diep Nhut Phuong"))))}),Le=(a(416),function(e){var t=e.userId,n=e.userFromServer,s=e.logout,o=e.handleInputEmail,c=e.handleInputPassword,i=e.login,l=e.signup,u=e.email,m=e.password,p=t?r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login-section"},r.a.createElement(w.b,{to:"/user/".concat(t)},n.username),r.a.createElement("button",{className:"button-signout",onClick:function(){return s()}},"Signout"))):r.a.createElement("div",{className:"login"},r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:u,onChange:o}),r.a.createElement("input",{type:"password",name:"pwd",placeholder:"Password",value:m,onChange:c}),r.a.createElement("div",{className:"login-section"},r.a.createElement("button",{className:"button-login",onClick:function(){return i("email")}},"Login"),r.a.createElement("button",{className:"button-signup",onClick:l},"Signup")));return r.a.createElement("div",{className:"wrap"},r.a.createElement(w.b,{to:"/"},r.a.createElement("img",{className:"logo",src:a(169),alt:"Logo"})),r.a.createElement("div",{className:"search-input"},r.a.createElement("input",{type:"text",name:"search",placeholder:"Search.."})),p)}),De=(a(417),a(418),{isLoading:!0,email:"huy3@user.com",password:"password",errorMessage:"",user:null,userFromServer:null,sessionToken:"",userId:""});N.a.setAppElement("body");var _e=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state=De,a.handleInputEmail=a.handleInputEmail.bind(Object(f.a)(a)),a.handleInputPassword=a.handleInputPassword.bind(Object(f.a)(a)),a.signup=a.signup.bind(Object(f.a)(a)),a.login=a.login.bind(Object(f.a)(a)),a.logout=a.logout.bind(Object(f.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"handleInputEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleInputPassword",value:function(e){this.setState({password:e.target.value})}},{key:"login",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t,a=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0,errorMessage:""}),e.prev=1,e.next=4,ae(this.state.email,this.state.password);case 4:t=e.sent,this.setState({userFromServer:t.user,user:t.user,sessionToken:t.token,userId:t.user.id},function(){return localStorage.setItem("yamexState",JSON.stringify(a.state))}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({errorMessage:e.t0.message});case 11:return e.prev=11,this.setState({isLoading:!1}),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,8,11,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"signup",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t,a,n,r,s=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.email,n=t.password,this.setState({isLoading:!0,errorMessage:""}),e.prev=2,e.next=5,re(a,n);case 5:r=e.sent,this.setState({userFromServer:r.user,user:r.user,sessionToken:r.token,userId:r.user.id},function(){return localStorage.setItem("yamexState",JSON.stringify(s.state))}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({errorMessage:e.t0.message});case 12:return e.prev=12,this.setState({isLoading:!1}),e.finish(12);case 15:this.setState({isLoading:!1});case 16:case"end":return e.stop()}},e,this,[[2,9,12,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){try{this.setState({isLoading:!0,errorMessage:""}),localStorage.setItem("yamexState",null),function(){ie.apply(this,arguments)}(),console.log("Sign-out successful."),this.setState(Object(c.a)({},this.state,{blankAppState:De}),function(){window.location.reload()})}catch(e){console.log("Error while logout: ",e),this.setState({errorMessage:e.message})}finally{this.setState({isLoading:!1})}}},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({isLoading:!0}),console.log("Checking if user is signed in or not"),null!=(t=JSON.parse(localStorage.getItem("yamexState")))){e.next=8;break}console.log("No user is logged in"),this.setState({isLoading:!1}),e.next=13;break;case 8:if(!t.sessionToken){e.next=13;break}return e.next=11,oe(t.sessionToken);case 11:0==e.sent?(console.log("No user is logged in"),this.setState({isLoading:!1})):this.setState(Object.assign({},t,{isLoading:!1}));case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.errorMessage,s=e.isLoading,o=e.sessionToken,c=e.userId,i=e.userFromServer,l=r.a.createElement("div",{style:{backgroundColor:"red",fontSize:20,textAlign:"center"}},n),u=r.a.createElement(N.a,{isOpen:s,contentLabel:"LoadingModal"},r.a.createElement("div",null,"Logging in...",r.a.createElement(je,null)));return r.a.createElement(Ie,{value:this.state},r.a.createElement("div",{id:"mainApp"},u,r.a.createElement(Le,{userId:c,userFromServer:i,logout:this.logout,handleInputEmail:this.handleInputEmail,handleInputPassword:this.handleInputPassword,login:this.login,signup:this.signup,email:t,password:a}),l,r.a.createElement(k.a,{path:"/",render:function(e){return r.a.createElement(Se,Object.assign({},e,{userFromServer:i,authData:{sessionToken:o,userId:c}}))}}),r.a.createElement(k.a,{path:"/user/:userId",render:function(e){return r.a.createElement(Te,Object.assign({authData:{sessionToken:o,userId:c}},e))}}),r.a.createElement(Ae,null)))}}]),t}(n.Component),Pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ue(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(w.a,null,r.a.createElement(_e,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Pe?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ue(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Ue(e)})}}()}},[[177,1,2]]]);
//# sourceMappingURL=main.a6aab83f.chunk.js.map